(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{ef09d4344e98a758bac7:function(e,t,n){"use strict";n.r(t);var r,o=n("8af190b70a6bc55c6f1b"),a=n.n(o),i=(n("8a2d1b95e05b6a321e74"),n("d7dd51e1bf6bfc2c9c3d")),c=n("a28fc3c963a1d4d1a2e5"),l=n("0d7f0986bcd2f33d8a2a"),u=n("ab4cb61bcb2dc161defb"),d=n("ab039aecd4a1d4fedc0e"),f=n("0b3cb19af78752326f59"),s=n("eb656803928a435bd3cc"),p=n("66543f9bb6e90e461320"),b=n("6e05b15597c94fea0ef3"),m=n("422249433a2d25af359d"),y=n("c8e6563c3537109b383a"),h=n("d6f259ffb10cc810b5a4"),g=n("7a0805d5a888ddc3ee44"),v=n.n(g),j=n("5ca68c6edf7ca33c5f8f"),w=n("76abbe2db5a955046df2"),O=n("761b1f7fdd256e4f5426"),L=n("a7c39d8357e500a5b832"),x=n("968c3c585cf17da94a14"),_=n("0785de3f40b134973d35"),E=n("6542cd13fd5dd1bcffd4"),C=n("1b0ed09bed43ca221d1b"),S=n("a72b40110d9c31c9b5c5"),A=n("6465220ba802210e9e2b"),I=n("f64ff5b2dfbac1021ef4"),k=n("d3dfb88bd55587d538d0"),P="app.components.GroupLayers",M=Object(d.defineMessages)({columnLayer:{id:"".concat(P,".columnLayer"),defaultMessage:"Layer"},columnProject:{id:"".concat(P,".columnProject"),defaultMessage:"Project"},columnIndicator:{id:"".concat(P,".columnIndicator"),defaultMessage:"Topic"},columnKey:{id:"".concat(P,".columnKey"),defaultMessage:"Key"},columnInfo:{id:"".concat(P,".columnInfo"),defaultMessage:"Read more"},info:{id:"".concat(P,".info"),defaultMessage:"Info"}});function T(e,t,n,o){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var c=new Array(i),l=0;l<i;l++)c[l]=arguments[l+3];t.children=c}if(t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var F=f.default.div.withConfig({displayName:"GroupLayers__Styled",componentId:"plf17t-0"})(["display:table;table-layout:fixed;margin-top:12px;margin-bottom:20px;width:100%;"]),D=f.default.div.withConfig({displayName:"GroupLayers__ListHeader",componentId:"plf17t-1"})(["display:table-header-group;"]),G=f.default.div.withConfig({displayName:"GroupLayers__ListHeaderRow",componentId:"plf17t-2"})(["display:table-row;"]),U=f.default.div.withConfig({displayName:"GroupLayers__ListHeaderCell",componentId:"plf17t-3"})(["display:table-cell;font-size:12px;line-height:14px;border-bottom:1px solid ",";vertical-align:middle;color:",";white-space:nowrap;"],function(e){return e.theme.global.colors["light-4"]},function(e){return e.theme.global.colors["dark-4"]}),z=Object(f.default)(U).withConfig({displayName:"GroupLayers__ListHeaderKey",componentId:"plf17t-4"})(["width:45px;text-align:center;"]),B=Object(f.default)(U).withConfig({displayName:"GroupLayers__ListHeaderInfo",componentId:"plf17t-5"})(["width:65px;text-align:center;"]),W=f.default.div.withConfig({displayName:"GroupLayers__ListBody",componentId:"plf17t-6"})(["display:table-row-group;"]),$=f.default.div.withConfig({displayName:"GroupLayers__ListBodyRow",componentId:"plf17t-7"})(["display:table-row;"]),H=f.default.div.withConfig({displayName:"GroupLayers__ListBodyCell",componentId:"plf17t-8"})(["display:table-cell;vertical-align:middle;height:54px;padding:6px 0;border-bottom:1px solid ",";"],function(e){return e.theme.global.colors["light-4"]}),K=Object(f.default)(H).withConfig({displayName:"GroupLayers__ListBodyCellCenter",componentId:"plf17t-9"})(["text-align:center;"]),R=Object(f.default)(function(e){return a.a.createElement(p.a,N({},e,{plain:!0}))}).withConfig({displayName:"GroupLayers__InfoButton",componentId:"plf17t-10"})(["font-family:'wwfregular';text-transform:uppercase;line-height:16px;background:",";color:",";padding:0 ",";border-radius:50px;height:24px;&:hover{background:",";}"],function(e){return e.theme.global.colors.black},function(e){return e.theme.global.colors.white},function(e){return e.theme.global.edgeSize.small},function(e){return e.theme.global.colors.dark}),q=f.default.div.withConfig({displayName:"GroupLayers__KeyWrap",componentId:"plf17t-11"})(["display:block;width:24px;height:24px;margin:0 auto;"]),J=T(L.q,{color:"dark-4"});var Q,V=function(e){var t=e.layersConfig,n=e.activeLayers,r=e.onToggleLayer,o=e.onLayerInfo,i=e.locale,c=e.projects,l=e.isPolicy,u=e.showArchived,f=e.policyLayer,p=[];return t&&t.forEach(function(e){var t,n;l&&f&&f.data&&f.data.tables&&e.indicators&&e.indicators.table&&f.data.tables[e.indicators.table]&&f.data.tables[e.indicators.table].data?(f.data.tables[e.indicators.table].data.data.filter(function(e){var t=e.archived&&Object(x.a)(e.archived,1);return u?t:!t}).forEach(function(t){p.push({id:"".concat(e.id,"_").concat(t.id),title:t["short_".concat(i)]||t["title_".concat(i)]||t["short_".concat(_.DEFAULT_LOCALE)]||t["title_".concat(_.DEFAULT_LOCALE)],isArchive:t.archived&&Object(x.a)(t.archive,1),isAggregate:t.aggregate&&t.aggregate.trim().length>0,config:e})}),p=p.sort(function(e,t){return e.isAggregate?-1:(t.isAggregate,1)})):(c?(t="".concat(h.o.id,"_").concat(e.project_id),n=e["project_title_".concat(i)]||e["project_title_".concat(_.DEFAULT_LOCALE)]):(t=e.id,n=e.title[i]||e.title[_.DEFAULT_LOCALE]),p.push({id:t,title:n,config:e}))}),T(F,{},void 0,T(D,{},void 0,T(G,{},void 0,T(U,{},void 0,T(s.a,{direction:"row",gap:"small",align:"center"},void 0,J,c&&a.a.createElement(d.FormattedMessage,M.columnProject),l&&a.a.createElement(d.FormattedMessage,M.columnIndicator),!l&&!c&&a.a.createElement(d.FormattedMessage,M.columnLayer))),T(z,{},void 0,a.a.createElement(d.FormattedMessage,M.columnKey)),o&&T(B,{},void 0,a.a.createElement(d.FormattedMessage,M.columnInfo)))),T(W,{},void 0,p&&p.map(function(e){var t=e.id,i=e.title,l=e.config;return T($,{},t,T(H,{},void 0,T(k.a,{checked:n.indexOf(t)>-1,onToggle:function(){return r(t)},label:i})),T(K,{},void 0,(c||l.key||l["styles-by-value"])&&T(q,{},void 0,T(I.a,{config:c?h.o:l}))),o&&T(K,{},void 0,T(R,{onClick:function(){return o(t)},label:a.a.createElement(d.FormattedMessage,M.info)})))})))},X=n("87ceb6d3cf914cd0f6ca");function Y(e,t,n,r){Q||(Q="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var i=new Array(a),c=0;c<a;c++)i[c]=arguments[c+3];t.children=i}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:Q,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ne=Object(f.default)(function(e){return a.a.createElement(p.a,te({plain:!0},e))}).withConfig({displayName:"ButtonDeleteLayers__TabDelete",componentId:"sc-1m79krv-0"})(["position:absolute;bottom:98%;border-radius:9999px;background:",";left:50%;transform:translate(-50%);min-width:21px;height:21px;color:",";text-align:center;font-weight:700;"],function(e){return e.theme.global.colors.white},function(e){return e.theme.global.colors.brandDark}),re=Object(f.default)(s.a).withConfig({displayName:"ButtonDeleteLayers__WrapContent",componentId:"sc-1m79krv-1"})(["pointer-events:none;"]),oe=Y(L.j,{color:"brandDark"});var ae,ie=function(e){var t=e.layerCount,n=e.updateLayers,r=e.active,a=Z(Object(o.useState)(!1),2),i=a[0],c=a[1];return Y(ne,{tabActive:r,onClick:function(){return n()},label:Y(re,{justify:"center",align:"center",fill:!0},void 0,i?oe:Y(j.a,{size:"xxsmall",style:{paddingTop:"1px"}},void 0,t)),onMouseEnter:function(){return c(!0)},onMouseOut:function(){return c(!1)},onBlur:function(){return c(!1)}})},ce=Object(d.defineMessages)({title:{id:"".concat("app.containers.PanelExplore",".title"),defaultMessage:"Map layers"}});function le(e,t,n,r){ae||(ae="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var i=new Array(a),c=0;c<a;c++)i[c]=arguments[c+3];t.children=i}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:ae,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ue(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var se=Object(f.default)(function(e){return a.a.createElement(s.a,fe({},e,{elevation:"medium"}))}).withConfig({displayName:"PanelExplore__Styled",componentId:"sc-39h5rt-0"})(["position:absolute;right:0;top:0;bottom:0;width:100%;pointer-events:all;@media (min-width:","){width:","px;}"],function(e){return e.theme.sizes.medium.minpx},function(e){return e.panelWidth||400}),pe=Object(f.default)(function(e){return a.a.createElement(s.a,fe({background:"brand",justify:"between"},e,{elevation:"small",responsive:!1}))}).withConfig({displayName:"PanelExplore__PanelHeader",componentId:"sc-39h5rt-1"})(["position:absolute;right:0;left:0;top:0;width:100%;height:140px;@media (min-width:","){height:150px;}"],function(e){return e.theme.sizes.medium.minpx}),be=f.default.div.withConfig({displayName:"PanelExplore__PanelBody",componentId:"sc-39h5rt-2"})(["position:absolute;right:0;left:0;top:150px;width:100%;bottom:0;padding:12px 12px 96px;overflow-y:scroll;"]),me=Object(f.default)(function(e){return a.a.createElement(s.a,fe({margin:{top:"medium"}},e,{align:"center",responsive:!1}))}).withConfig({displayName:"PanelExplore__TitleWrap",componentId:"sc-39h5rt-3"})([""]),ye=Object(f.default)(function(e){return a.a.createElement(j.a,fe({size:"large"},e))}).withConfig({displayName:"PanelExplore__Title",componentId:"sc-39h5rt-4"})(["font-family:'wwfregular';text-transform:uppercase;line-height:1;margin-top:3px;"]),he=Object(f.default)(function(e){return a.a.createElement(s.a,fe({},e,{direction:"row",gap:"xsmall"}))}).withConfig({displayName:"PanelExplore__Tabs",componentId:"sc-39h5rt-5"})([""]),ge=Object(f.default)(function(e){return a.a.createElement(s.a,fe({},e,{margin:{left:"xsmall"}}))}).withConfig({displayName:"PanelExplore__TabLinkWrapper",componentId:"sc-39h5rt-6"})(["position:relative;"]),ve=Object(f.default)(function(e){return a.a.createElement(p.a,fe({plain:!0},e))}).withConfig({displayName:"PanelExplore__TabLink",componentId:"sc-39h5rt-7"})(["font-family:'wwfregular';text-transform:uppercase;font-weight:normal;line-height:1;color:",";opacity:1;border-bottom:4px solid;border-color:",";&:hover{color:",";}padding:0 ",";@media (min-width:","){padding:0 ",";}"],function(e){var t=e.theme,n=e.active;return t.global.colors[n?"white":"brandLight"]},function(e){var t=e.theme;return e.active?t.global.colors.white:"transparent"},function(e){return e.theme.global.colors.white},function(e){return e.theme.global.edgeSize.xsmall},function(e){return e.theme.sizes.medium.minpx},function(e){return e.theme.global.edgeSize.ms}),je=Object(f.default)(function(e){return a.a.createElement(j.a,fe({size:"xlarge"},e))}).withConfig({displayName:"PanelExplore__TabLinkAnchor",componentId:"sc-39h5rt-8"})([""]),we=Object(f.default)(function(e){return a.a.createElement(s.a,fe({flex:{shrink:0}},e))}).withConfig({displayName:"PanelExplore__SectionLayerGroup",componentId:"sc-39h5rt-9"})([""]),Oe=Object(f.default)(function(e){return a.a.createElement(w.a,fe({},e,{level:3}))}).withConfig({displayName:"PanelExplore__TitleGroup",componentId:"sc-39h5rt-10"})(["font-family:'wwfregular';font-weight:normal;margin-bottom:0;letter-spacing:0.1px;font-size:28px;line-height:29px;"]),Le=f.default.div.withConfig({displayName:"PanelExplore__DescriptionGroup",componentId:"sc-39h5rt-11"})(["margin-bottom:8px;hyphens:auto;"]),xe="px",_e={tab:0},Ee=function(e,t,n){if(t.length>0){if(e===h.n)return t.filter(function(e){return Object(m.h)(e,"".concat(h.o.id,"_"))});if(e===h.k)return t.filter(function(e){return Object(m.h)(e,h.l)});if(n)return t.filter(function(t){var r=n.find(function(e){return e.id===t});return r&&r.category===e})}return[]},Ce=function(e,t){return ue(e).sort(function(e,n){var r=e["project_title_".concat(t)]||e["project_title_".concat(_.DEFAULT_LOCALE)],o=n["project_title_".concat(t)]||n["project_title_".concat(_.DEFAULT_LOCALE)];return Object(m.g)(r,o)})},Se=le(L.p,{});var Ae=Object(c.b)({projects:function(e){return Object(E.d)(e,{key:"projects"})},layersConfig:function(e){return Object(E.r)(e)},exploreConfig:function(e){return Object(E.j)(e)},locale:function(e){return Object(E.s)(e)},uiState:function(e){return Object(E.D)(e,{key:xe})},activeLayers:function(e){return Object(E.a)(e)},policyLayer:function(e){return Object(C.b)(e,h.i.policy.featuredLayer)}});var Ie,ke=Object(i.connect)(Ae,function(e){return{onSetTab:function(t,n){return e(Object(S.x)(xe,Object.assign({},_e,n,{tab:t})))},onLayerInfo:function(t){e(Object(S.q)({layerId:t})),e(Object(S.y)())},onSetLayers:function(t){return e(Object(S.r)(t))},onToggleLayer:function(t){return e(Object(S.z)(t))},onLoadLayer:function(t,n){return e(Object(A.a)(t,n))}}}),Pe=Object(u.compose)(ke)(function(e){var t=e.onClose,n=e.onLayerInfo,r=e.onToggleLayer,i=e.onSetTab,c=e.projects,l=e.layersConfig,u=e.exploreConfig,f=e.locale,s=e.uiState,p=e.activeLayers,b=e.onSetLayers,g=e.policyLayer,j=e.onLoadLayer,w=(s?Object.assign({},_e,s):_e).tab,L=Object(o.useRef)();Object(o.useEffect)(function(){L.current.scrollTop=0},[s]),Object(o.useEffect)(function(){if(l&&E&&E.id===h.k){var e=l.find(function(e){return e.id===h.l});j(h.l,e)}},[E,l]);var E=u&&u[w],C=E&&Ee(E.id,p,l),S=C&&p.filter(function(e){return-1===C.indexOf(e)}),A=E&&E.id===h.n,I=E&&E.id===h.k;return le(O.a.Consumer,{},void 0,function(e){return le(se,{background:"white",panelWidth:Object(y.b)(e)},void 0,le("div",{},void 0,le(pe,{},void 0,le(X.a,{onClick:function(){return t()},hasPadding:!0}),le(me,{},void 0,Se,le(ye,{},void 0,a.a.createElement(d.FormattedMessage,ce.title))),le(he,{},void 0,l&&u&&u.map(function(e,t){var n=Ee(e.id,p,l),r=n?p.filter(function(e){return-1===n.indexOf(e)}):[];return le(ge,{},e.id,n.length>0&&le(ie,{updateLayers:function(){return b(r)},layerCount:n.length,active:Object(x.a)(w,t)}),le(ve,{onClick:function(){return i(t,s)},active:Object(x.a)(w,t),disabled:Object(x.a)(w,t),label:le(je,{active:Object(x.a)(w,t)},void 0,e.title[f]||e.title[_.DEFAULT_LOCALE])}))}))),a.a.createElement(be,{ref:L},!I&&l&&E&&E.groups&&E.groups.map(function(e){return le(we,{},e.id,le(Oe,{},void 0,e.title[f]||e.title[_.DEFAULT_LOCALE]),e.description&&le(Le,{},void 0,le(v.a,{options:{html:!0},source:Object(m.d)(e.description[f]||e.description[_.DEFAULT_LOCALE],{para:!0})})),!A&&le(V,{group:e,layersConfig:l.filter(function(t){return t.category===E.id&&t.group===e.id}),locale:f,activeLayers:p,onLayerInfo:n,onToggleLayer:r}),c&&A&&le(V,{group:e,projects:!0,layersConfig:Ce(c,f),locale:f,activeLayers:p,onLayerInfo:n,onToggleLayer:r}))}),!A&&I&&l&&g&&E&&E.groups&&E.groups.map(function(e){return le(we,{},e.id,le(Oe,{},void 0,e.title[f]||e.title[_.DEFAULT_LOCALE]),e.description&&le(Le,{},void 0,le(v.a,{options:{html:!0},source:Object(m.d)(e.description[f]||e.description[_.DEFAULT_LOCALE],{para:!0})})),le(V,{group:e,showArchived:"archive"===e.id,layersConfig:l.filter(function(e){return e.category===E.id}),isPolicy:!0,locale:f,activeLayers:p,onLayerInfo:n,policyLayer:g,onToggleLayer:function(e){b(p.indexOf(e)>-1?S:[].concat(ue(S),[e]))}}))}))))})}),Me=n("f9c0d22799479965d07c"),Te=n("02ed36e7ccc5625439c9"),Ne=Object(d.defineMessages)({showLayerPanel:{id:"".concat("app.containers.ModuleExplore",".showLayerPanel"),defaultMessage:"Layers"},showProjects:{id:"".concat("app.containers.ModuleExplore",".showProjects"),defaultMessage:"Show WWF-projects"},hideProjects:{id:"".concat("app.containers.ModuleExplore",".hideProjects"),defaultMessage:"Hide WWF-projects"},showProjectsShort:{id:"".concat("app.containers.ModuleExplore",".showProjectsShort"),defaultMessage:"Show projects"},hideProjectsShort:{id:"".concat("app.containers.ModuleExplore",".hideProjectsShort"),defaultMessage:"Hide projects"}});function Fe(e,t,n,r){Ie||(Ie="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var i=new Array(a),c=0;c<a;c++)i[c]=arguments[c+3];t.children=i}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:Ie,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function De(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"ModuleExplore",function(){return Xe});var Be=Object(f.default)(function(e){return a.a.createElement(s.a,ze({gap:"small",direction:"row"},e))}).withConfig({displayName:"ModuleExplore__Buttons",componentId:"sc-1nskavd-0"})(["position:absolute;right:12px;top:22px;pointer-events:all;"]),We=Object(f.default)(function(e){return a.a.createElement(p.a,ze({plain:!0,reverse:!0},e))}).withConfig({displayName:"ModuleExplore__ShowButton",componentId:"sc-1nskavd-1"})(["font-family:'wwfregular';text-transform:uppercase;line-height:16px;background:",";color:",";border-radius:20px;padding:2px 13px;box-shadow:0px 2px 4px rgba(0,0,0,0.2);&:hover{background:",";}@media (min-width:","){padding:5px 15px 5px 21px;}"],function(e){var t=e.theme,n=e.projects;return t.global.colors[n?"white":"brand"]},function(e){var t=e.theme,n=e.projects;return t.global.colors[n?"black":"white"]},function(e){var t=e.theme,n=e.projects;return t.global.colors[n?"lightHover":"brandDark"]},function(e){return e.theme.sizes.medium.minpx}),$e=f.default.div.withConfig({displayName:"ModuleExplore__ProjectButtonWrap",componentId:"sc-1nskavd-2"})(["position:absolute;right:","px;top:20px;pointer-events:all;"],function(e){return e.asideOffset+20}),He=function(e){var t=e.showAll,n=e.lids,r=e.pids,o=e.onClick,i=e.small,c=Ue(e,["showAll","lids","pids","onClick","small"]),l="";return l=i?t?Ne.showProjectsShort:Ne.hideProjectsShort:t?Ne.showProjects:Ne.hideProjects,a.a.createElement(We,ze({projects:!0,onClick:function(){o(t?Object(b.uniq)([].concat(De(n),De(r.map(function(e){return"".concat(h.o.id,"_").concat(e)})))):n.filter(function(e){return!Object(m.h)(e,"".concat(h.o.id,"_"))}))},label:a.a.createElement(d.FormattedMessage,l)},c))},Ke="mx",Re={layersMemo:null,show:!0},qe={show:!0},Je=Fe(L.G,{color:"black"}),Qe=Fe(L.G,{color:"black"}),Ve=Fe(L.p,{color:"white"});function Xe(e){var t=e.onSetLayers,n=e.layerIds,r=e.projects,i=e.uiState,c=e.uiURL,u=e.onMemoLayers,f=e.activeLayers,s=e.firstLanding,p=e.onSetLanding,b=e.onShow,g=e.intl,v=e.size,j=e.onShowKey,w=(i?Object.assign({},Re,i):Re).layersMemo,O=(c?Object.assign({},qe,c):qe).show;Object(o.useEffect)(function(){w?t(w):h.i.explore.layers&&(s&&0!==f.length||t(h.i.explore.layers)),s&&p()},[]),Object(o.useEffect)(function(){j()},[]),Object(o.useEffect)(function(){u(f,i)},[f]),Object(o.useEffect)(function(){"small"===v&&b(!1,c)},[v]);var L=r?r.map(function(e){return e.project_id}):[],x=n.filter(function(e){if(Object(m.h)(e,"".concat(h.o.id,"_"))){var t=e.replace("".concat(h.o.id,"_"),"");return L.indexOf(t)>-1}return!1}).map(function(e){return e.replace("".concat(h.o.id,"_"),"")}),_=r&&x.length>=r.length;return Fe("div",{},void 0,Fe(l.Helmet,{},void 0,Fe("title",{},void 0,"".concat(g.formatMessage(Te.a.module_explore_metaTitle)))),Fe(Me.a,{},void 0,O&&"small"!==v&&Fe($e,{asideOffset:Object(y.b)(v)},void 0,Fe(He,{showAll:!_,lids:n,pids:L,onClick:t,small:Object(y.d)(v,"small"),icon:Je})),O&&Fe(Pe,{onClose:function(){return b(!1,c)}}),!O&&Fe(Be,{},void 0,"small"!==v&&Fe(He,{showAll:!_,lids:n,pids:L,onClick:t,small:Object(y.d)(v,"small"),icon:Qe}),Fe(We,{onClick:function(){b(!0,c)},icon:Ve,label:a.a.createElement(d.FormattedMessage,Ne.showLayerPanel)}))))}var Ye=Object(c.b)({layerIds:function(e){return Object(E.a)(e)},projects:function(e){return Object(E.d)(e,{key:"projects"})},uiState:function(e){return Object(E.C)(e,{key:Ke})},uiURL:function(e){return Object(E.D)(e,{key:Ke})},activeLayers:function(e){return Object(E.a)(e)},firstLanding:function(e){return Object(E.k)(e)}});var Ze=Object(i.connect)(Ye,function(e){return{onShowKey:function(){return e(Object(S.u)(!0))},onSetLanding:function(){return e(Object(S.o)())},onSetLayers:function(t){return e(Object(S.r)(t))},onMemoLayers:function(t,n){return e(Object(S.w)(Ke,Object.assign({},Re,n,{layersMemo:t})))},onShow:function(t,n){return e(Object(S.x)(Ke,Object.assign({},qe,n,{show:t})))}}});t.default=Object(u.compose)(Ze)(Object(d.injectIntl)(Xe))}}]);